# Earthquake SOS Car 

### Video Clip

![findRoad](2. Docs\1. Images\findRoad.gif)

![SOS](2. Docs\1. Images\SOS.gif)



## 关于此项目

“地震求助小车”，小车通过巡线模块沿线行驶，到达地震现场，当小车通过摄像设备探测识别到人脸时，在原地利用七彩灯和蜂鸣器装置发送SOS救助信号，在结束所有遇灾人员的探测和求助后，小车原路返回，返回到出发位置。重复执行小车求助，直到巡线结束。本次实验设计了1个救助点，中间过程调用1次人脸识别模块。

## 各模块介绍

寻迹模块功能：用四路红外传感器分别连接在树莓派主控板上的wiringPi编码的21,9,7,1口上，编译运行巡线程序启动实验后，按下按键K2，启动红外巡线功能，小车会自动的巡黑线行走。

SOS模块和人脸识别模块功能：利用人脸识别模块检测人脸后，在原地通过LED灯和蜂鸣器发出三短三长的信号来模拟SOS信号的发射。

电机驱动芯片功能：通过控制驱动芯片的AIN1,AIN2,BIN1,BIN2,PWMA,PWMB的电平高低来控制电机的正转，反转，停止。本次实验主要是控制AIN1，AIN2，BIN1，BIN2的电平状态，进而通过控制PWMA,PWMB在0-255之间控制小车的速度。一路PWM控制小车一侧电机的速度。

## 关于人脸检测

利用OpenCV库的人脸检测函数定义具体可跟踪对象类型的数据文件，Haar级联分类器对比分析出图像检测结果，同时利用小车的摄像装置读入拍摄到的照图像和视频，检测人脸，通过人脸检测的结果来进行七彩灯和蜂鸣器的SOS信号的求助。

## 程序流程图

![flow](2. Docs\1. Images\flow.jpg)